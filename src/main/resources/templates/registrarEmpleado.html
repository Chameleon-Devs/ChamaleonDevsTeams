<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Chamaleon Dev's</title>
    <link rel="icon" href="/img/icon.png">

    <!--Bootstrap icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <!--Bootstrap icons-->
    <!--Personal css-->
    <link rel="stylesheet" href="/css/botonCrear.css">
    <link rel="stylesheet" href="/css/agregarFormulario.css">
    <!--Personal css-->
</head>
<body>
<!-- Topbar -->
<nav class="navbar navbar-expand navbar-dark bg-dark bg-gradient d-flex justify-content-around space-between sticky-top shadow">
    <!--LOGO CHAMELEON_DEVS-->
    <div>
        <a class="" href="/Index">
            <img src="/img/logo.png" alt="logo" width="170" height="80"
                 class="d-inline-block align-text-top border border-0 rounded-2">
        </a>
    </div>
    <!--LOGO CHAMELEON_DEVS-->

</nav>
<!-- End of Topbar -->
<body class="fondo">
<!--FORM-->
<div class="d-flex justify-content-center">
    <div class="py-5 text-center d-flex flex-column align-items-center glass col-4">
        <div th:if=${param.exito}>
            <div class="alert alert-info">Se ha registrado exitosamente a
                la aplicación</div>
        </div>
        <h1 class="text-dark mb-4">Nuevo Empleado</h1>
        <form th:action="@{/GuardarRegistroEmpleado}" th:object="${emple1}" method="post" class="d-flex flex-column gap-3 align-items-center">
            <input th:field="*{nombre}" class="form-control" required="required" type="text" placeholder="Nombre">
            <input th:field="*{correoEmpleado}" class="form-control" required="required" type="email" placeholder="Correo">

<!--            <select th:field="*{perfil}" class="form-control" id="perfil">-->
<!--                <option value="">-Perfil Empleado-</option>-->
<!--                <option th:each="perfil : ${perflist}" th:text="${perfil.id}" th:value="${perfil.id}"></option>-->
<!--            </select>-->

            <select th:field="*{empresa}" class="form-control" id="empresa">
                <option value="">--Seleccione una Empresa--</option>
                <option th:each="empresa : ${emplist}" th:text="${empresa.nombreEmpresa}" th:value="${empresa.empresaId}"></option>
            </select>

            <select th:field="*{rolEmpleado}" class="form-control" required="required">
                <option value="">--Seleccione un Rol--</option>
                <option th:value='ROLE_ADMIN'>Administrativo</option>
                <option th:value='ROLE_OPERARIO'>Operario</option>
            </select>
            <input th:field="*{contraseña}" class="form-control" required="required" type="password" placeholder="Password">
            <select th:field="*{estado}" class="form-control" required="required">
                <option value="">--Seleccione un Estado--</option>
                <option th:value='1'>Activo</option>
                <option th:value='0'>Inactivo</option>
            </select>
            <input th:field="*{fechaCreacion}" class="form-control" type="date" placeholder="Fecha Creación">
            <input th:field="*{fechaModificacion}" class="form-control" type="date" placeholder="Fecha Modificación">
            <div class="align-items-right">
                <button class="btn btn-brown text-white fw-bold px-3" type="submit">Crear Empleado</button>
                <span>Si estas registrado <a th:href="@{/login}">inicia sesión aqui</a></span>
            </div>
        </form>
    </div>
</div>
<!--FORM-->

<script th:inline="javascript">
    window.onload=function(){

        var msg= [[${mensaje}]];
        if (msg == "saveOK"){
            Command : toastr["success"]("Empresa creada con éxito!")
        }
        else if (msg == "updateOK"){
            Command : toastr["success"]("Empresa actualizada con éxito!")
        }
        else if (msg == "deleteOK"){
            Command : toastr["error"]("Empresa eliminada con éxito!")
        }
        else if (msg == "deleteError"){
            Command : toastr["error"]("Empresa no ha sido eliminada!")
        }
        toastr.options={
            "positionClass": "toast-top-right",
            "showDuration":"300",
            "showMethod":"fadeIn",
            "hideMethod":"fadeOut",
        }
    }
</script>
</body>
</body>
</html>